(()=>{"use strict";({383:function(){var i=this&&this.__awaiter||function(i,e,t,a){return new(t||(t=Promise))((function(n,o){function s(i){try{c(a.next(i))}catch(i){o(i)}}function l(i){try{c(a.throw(i))}catch(i){o(i)}}function c(i){var e;i.done?n(i.value):(e=i.value,e instanceof t?e:new t((function(i){i(e)}))).then(s,l)}c((a=a.apply(i,e||[])).next())}))};if("copy-url"===figma.command){const i=figma.currentPage.selection;if(0===i.length)figma.notify("Please select a Ripplix animation node first"),figma.closePlugin();else{const e=i[0].getPluginData("animationUrl");e?(figma.ui.postMessage({type:"copy-to-clipboard",text:e}),figma.showUI(__html__,{visible:!0,width:300,height:100}),figma.ui.postMessage({type:"show-copy-message",url:e})):(figma.notify("This is not a Ripplix animation node"),figma.closePlugin())}}else figma.showUI(__html__,{width:500,height:600});figma.ui.onmessage=e=>i(void 0,void 0,void 0,(function*(){if("add-animation"===e.type)try{const i=e.animation;yield figma.loadFontAsync({family:"Inter",style:"Bold"}),yield figma.loadFontAsync({family:"Inter",style:"Regular"});const t=figma.createFrame();t.resize(220,60),t.cornerRadius=8;const a=figma.viewport.center;t.x=a.x-t.width/2,t.y=a.y-t.height/2,t.fills=[{type:"SOLID",color:{r:.05,g:.6,b:1}}];const n=figma.createText();n.fontName={family:"Inter",style:"Bold"},n.fontSize=16,n.characters="Ripplix Animation",n.fills=[{type:"SOLID",color:{r:1,g:1,b:1}}],n.x=12,n.y=10;const o=figma.createText();o.fontName={family:"Inter",style:"Regular"},o.fontSize=12,o.characters=i.title,o.fills=[{type:"SOLID",color:{r:1,g:1,b:1},opacity:.8}],o.x=12,o.y=32,t.appendChild(n),t.appendChild(o),t.setPluginData("animationUrl",i.url),t.setPluginData("animationTitle",i.title),figma.currentPage.selection=[t],figma.ui.postMessage({type:"animation-added",success:!0,message:"Animation added! Right-click and use Plugins > Ripplix Animation Library > Copy Animation URL to copy the link."})}catch(i){console.error("Error adding animation:",i),figma.ui.postMessage({type:"animation-added",success:!1,error:i instanceof Error?i.message:"Unknown error"})}else"copy-confirmed"===e.type?figma.closePlugin("URL copied to clipboard"):"close-plugin"===e.type&&figma.closePlugin()}))}})[383]()})();